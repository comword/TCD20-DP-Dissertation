% !TeX program = XeLaTeX
% !TeX encoding = UTF-8
\documentclass[a4paper,oneside,12pt]{book}
\newcommand{\thesistitle}{A mobile exam proctoring system with deep-learning-based human action recognition} % Your thesis title, this is used in the title and abstract
\newcommand{\degree}{Master of Science in Computer Science \\ (Future Networked Systems)} % Your degree name, this is used in the title page and abstract
\newcommand{\typeofthesis}{dissertation} % dissertation, Final Year Project, report, etc.
\newcommand{\authorname}{Tong Ge} % Your name, this is used in the title page and PDF stuff
\newcommand{\supervisor}{Dr. Ciar√°n Mc Goldrick} 
%% Do not put your Student ID in the document, as TCD will not publish
%% documents that contain both your name and your Student ID.

\newcommand{\keywords}{Deep learning, pose-based features, video data, classification, mobile device, exam proctoring} % Keywords for your thesis
\newcommand{\school}{\href{http://www.scss.tcd.ie}{School of Computer Science and Statistics}} % Your school's name and URL, this is used in the title page

%% Comment out the next line if you don't want a department to appear
%\newcommand{\department}{\href{http://researchgroup.university.com}{Department Name}} % Your research group's name and URL, this is used in the title page

\AtBeginDocument{
\hypersetup{pdftitle=\thesistitle} % Set the PDF's title to your title
\hypersetup{pdfauthor=\authorname} % Set the PDF's author to your name
\hypersetup{pdfkeywords=\keywords} % Set the PDF's keywords to your keywords
}

%% Language and font encodings
% \usepackage[T1]{fontenc}
%\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\usepackage{fontspec}
\usepackage{xeCJK}
\setCJKmainfont{IPAMincho}
\setCJKsansfont{IPAGothic}
\setCJKmonofont{IPAGothic}
\usepackage{microtype}
%% Bibliographical stuff
% \usepackage[sort,comma,numbers]{natbib}
\usepackage[style=numeric, bibencoding=utf8, natbib=true, backend=biber, sorting=none]{biblatex}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}
%% Document size
% include showframe as an option if you want to see the boxes
\usepackage[a4paper,top=2.54cm,bottom=2.54cm,left=3cm,right=1.8cm,headheight=16pt]{geometry}
\setlength{\marginparwidth}{2cm}
\usepackage{url}
\urlstyle{sf}
\Urlmuskip=0mu plus 10mu
\usepackage[nottoc]{tocbibind}
%% Useful packages
\usepackage{float}
\usepackage[newfloat]{minted}
\usepackage{amsmath}
\usepackage[strict,autostyle=true]{csquotes} % Required to generate language-dependent quotes in the bibliography
\usepackage{graphicx}
\usepackage[usenames,dvipsnames,svgnames,table,xcdraw]{xcolor}
\usepackage{psfrag,wrapfig}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=black]{hyperref}
\usepackage{caption} % if no caption, no colon
\usepackage[ruled,vlined,linesnumbered,resetcount,algochapter]{algorithm2e}
\usepackage{sfmath} %use sans-serif in the maths sections too
\usepackage[parfill]{parskip}    % Begin paragraphs with an empty line rather than an indent
\usepackage{setspace} % to permit one-and-a-half or double spacing
\usepackage{enumerate} % fancy enumerations like (i) (ii) or (a) (b) and suchlike
\usepackage{enumitem}
\usepackage{booktabs} % To thicken table lines
\usepackage{titletoc}
\usepackage{color}
\usepackage{multirow,multicol}
\usepackage{supertabular}
\usepackage{tabularx}
\usepackage{ltxtable}
\usepackage{fancyhdr}
\usepackage{pdflscape}
\usepackage{mathtools}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\pagestyle{plain}
%% It is not a requirement of the university that the font should be sans-serif, but
%% the Mechanical engineers require it. Comment out the following line to disable it
% \renewcommand{\familydefault}{\sfdefault} %use the sans-serif font as default

%% If you're not using sans-serif, consider using Palatino instead of the LaTeX standard
\usepackage{mathpazo} % Use the Palatino font by default if you prefer it to Computer Modern
\setmainfont
     [ BoldFont       = texgyrepagella-bold.otf ,
       ItalicFont     = texgyrepagella-italic.otf ,
       BoldItalicFont = texgyrepagella-bolditalic.otf ]
     {texgyrepagella-regular.otf}

\renewcommand{\theequation}{\arabic{equation}} %% use continuous equation numbers

%% Format Chapter headings appropriately
\usepackage{titlesec}
\titleformat{\chapter}[hang]
{\normalfont\huge\bfseries}{\thechapter}{1cm}{} 

\def\changemargin#1#2{\list{}{\rightmargin#2\leftmargin#1}\item[]}
\let\endchangemargin=\endlist

\newenvironment{abstract}%
    {\begin{center}%
    \bfseries{Abstract} \end{center}}
    
\usepackage{lipsum}
% \usepackage{draftwatermark}
% \SetWatermarkText{DRAFT}
% \SetWatermarkScale{1}
\newcommand*{\eqcite}[1]{%
  \vadjust{%
    \smallskip
    \hbox to \linewidth{\hfill\citet{#1}}%
  }%
}
\numberwithin{equation}{chapter}
    
\titlecontents{chapter}
[0pt]             % left margin
{\vspace{4pt}}    % above code
{\textsc{\bfseries\thecontentslabel.}~}
{}             % unnumbered format
{\titlerule*[6pt]{}\contentspage}
\titlecontents{section}
[.5cm]             % left margin
{\vspace{4pt}}    % above code
{{\bfseries\thecontentslabel}~} % numbered format
{}             % unnumbered format
{\titlerule*[6pt]{.}\contentspage}
\titlecontents{subsection}
[1.2cm]             % left margin
{\vspace{4pt}}    % above code
{{\bfseries\thecontentslabel}~} % numbered format
{}             % unnumbered format
{\titlerule*[6pt]{.}\contentspage}
\title{\thesistitle}
\author{\authorname}

\addbibresource{bibs/background.bib}
\addbibresource{bibs/prevResearch.bib}
\addbibresource{bibs/deepModel.bib}
\addbibresource{bibs/mobileOptimus.bib}
\addbibresource{bibs/impletEval.bib}

\frontmatter
\begin{document}
\addtocontents{toc}{\vspace*{-1cm}}
\input{title/title}
\pagenumbering{roman}
\input{title/declaration}
\input{title/abstract}
\input{title/ack}

\tableofcontents
\newpage
% \makeatletter
% \let\savedchap\@makeschapterhead
% \def\@makeschapterhead#1#2{\vspace*{-.5cm}\savedchap{#1}{#2}\vspace*{-.5cm}}
\listoffigures
% \let\@makeschapterhead\savedchap
% \makeatother
\listoftables
\begingroup
\let\clearpage\relax
\listofalgorithms
\addcontentsline{toc}{chapter}{List of Algorithms}
\endgroup
\input{title/nomenclature}

\mainmatter
\onehalfspacing
\input{introduction/introduction} % 4 pages
\input{literature/literature} % 22 pages / 26
\input{design/design} % 10 pages / 36
\input{implementation/implementation} % 11 pages / 47
\input{evaluation/evaluation} % 8 pages / 55
\input{conclusion/conclusion} % 2 pages / 57
\newpage
\nocite{*}
\emergencystretch=1em
\printbibliography[heading=bibintoc]
% }
\appendix
\renewcommand{\thechapter}{Appendix~\Alph{chapter}}
\renewcommand\thefigure{\Alph{chapter}\arabic{figure}}
\renewcommand\thetable{\Alph{chapter}\arabic{table}}
\input{appendix/appendix}

\end{document}